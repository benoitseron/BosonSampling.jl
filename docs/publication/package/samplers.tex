\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{n }\OperatorTok{=} \FloatTok{20}
\NormalTok{m }\OperatorTok{=} \FloatTok{400}

\CommentTok{\# Define an input of 20 photons among 400 modes}
\NormalTok{i }\OperatorTok{=} \FunctionTok{Input}\DataTypeTok{\{Bosonic\}}\NormalTok{(}\FunctionTok{first\_modes}\NormalTok{(n,m))}

\CommentTok{\# Define the interferometer}
\NormalTok{interf }\OperatorTok{=} \FunctionTok{RandHaar}\NormalTok{(m)}

\CommentTok{\# Set the output measurement}
\NormalTok{o }\OperatorTok{=} \FunctionTok{FockSample}\NormalTok{()}

\CommentTok{\# Create the event}
\NormalTok{ev }\OperatorTok{=} \FunctionTok{Event}\NormalTok{(i, o, interf)}

\CommentTok{\# Simulate}
\FunctionTok{sample!}\NormalTok{(ev)}
\CommentTok{\# output:}
\CommentTok{\# state = [0,1,0,...]}
\end{Highlighting}
\end{Shaded}
